# Задача 2: FULL JOIN

## Условие

Представьте две таблицы: первая содержит 30 строк, а вторая — 20 строк. Мы выполняем операцию FULL JOIN между ними. Какой диапазон возможного количества строк может быть в результирующей таблице, если учесть, что ключи для соединения могут быть как полностью совпадающими, так и абсолютно уникальными?

## Анализ

### Что такое FULL JOIN?

FULL JOIN возвращает все строки из обеих таблиц:

- Строки с совпадающими ключами объединяются
- Строки без совпадений включаются с NULL в недостающих полях

### Экстремальные случаи

#### Случай 1: Все ключи уникальны (нет совпадений)

- Таблица 1: 30 уникальных ключей
- Таблица 2: 20 уникальных ключей
- Пересечение ключей: 0
- Результат: 30 + 20 = 50 строк

#### Случай 2: Максимальное совпадение ключей

- Таблица 1: 30 строк
- Таблица 2: 20 строк
- Все 20 ключей из таблицы 2 присутствуют в таблице 1
- Пересечение ключей: 20
- Результат: 30 строк (20 совпавших + 10 уникальных из таблицы 1)

#### Случай 3: Частичное совпадение ключей

- Пересечение ключей: k, где 0 ≤ k ≤ 20
- Уникальные из таблицы 1: 30 - k
- Уникальные из таблицы 2: 20 - k
- Результат: k + (30 - k) + (20 - k) = 50 - k

### Математическая формулировка

Пусть:

- $n_1 = 30$ (строк в первой таблице)
- $n_2 = 20$ (строк во второй таблице)
- $k$ = количество совпадающих ключей (0 ≤ k ≤ min($n_1$, $n_2$) = 20)

Количество строк в результате:
$$\text{Result} = n_1 + n_2 - k = 50 - k$$

Где $k \in [0, 20]$

### Диапазон результатов

- **Минимум**: когда k = 20 (максимальное совпадение)
  $$50 - 20 = 30 \text{ строк}$$

- **Максимум**: когда k = 0 (нет совпадений)
  $$50 - 0 = 50 \text{ строк}$$

## Ответ: **минимально 30 и максимально 50 строк**

## Проверка логики

1. **Минимум (30 строк)**: когда все 20 строк из второй таблицы находят совпадение в первой
2. **Максимум (50 строк)**: когда нет ни одного совпадения между таблицами
3. **Промежуточные значения**: от 31 до 49 строк при частичном совпадении

## Примеры

```sql
-- Минимум (30 строк)
-- Таблица1: keys [1,2,3,...,30]
-- Таблица2: keys [1,2,3,...,20]
-- Результат: 30 строк

-- Максимум (50 строк)  
-- Таблица1: keys [1,2,3,...,30]
-- Таблица2: keys [31,32,33,...,50]
-- Результат: 50 строк

-- Промежуточный случай (40 строк)
-- Таблица1: keys [1,2,3,...,30]
-- Таблица2: keys [1,2,3,...,10,31,32,33,34,35]
-- Совпадений: 10
-- Результат: 50 - 10 = 40 строк
```
