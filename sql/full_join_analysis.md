# –ó–∞–¥–∞—á–∞ 2: FULL JOIN

## üìú –£—Å–ª–æ–≤–∏–µ
–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ –¥–≤–µ —Ç–∞–±–ª–∏—Ü—ã: –ø–µ—Ä–≤–∞—è —Å–æ–¥–µ—Ä–∂–∏—Ç 30 —Å—Ç—Ä–æ–∫, –∞ –≤—Ç–æ—Ä–∞—è ‚Äî 20 —Å—Ç—Ä–æ–∫. –ú—ã –≤—ã–ø–æ–ª–Ω—è–µ–º –æ–ø–µ—Ä–∞—Ü–∏—é FULL JOIN –º–µ–∂–¥—É –Ω–∏–º–∏. –ö–∞–∫–æ–π –¥–∏–∞–ø–∞–∑–æ–Ω –≤–æ–∑–º–æ–∂–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å—Ç—Ä–æ–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ —Ä–µ–∑—É–ª—å—Ç–∏—Ä—É—é—â–µ–π —Ç–∞–±–ª–∏—Ü–µ, –µ—Å–ª–∏ —É—á–µ—Å—Ç—å, —á—Ç–æ –∫–ª—é—á–∏ –¥–ª—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –º–æ–≥—É—Ç –±—ã—Ç—å –∫–∞–∫ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–ø–∞–¥–∞—é—â–∏–º–∏, —Ç–∞–∫ –∏ –∞–±—Å–æ–ª—é—Ç–Ω–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏?

## üßÆ –ê–Ω–∞–ª–∏–∑

### –ß—Ç–æ —Ç–∞–∫–æ–µ FULL JOIN?
FULL JOIN –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –∏–∑ –æ–±–µ–∏—Ö —Ç–∞–±–ª–∏—Ü:
- –°—Ç—Ä–æ–∫–∏ —Å —Å–æ–≤–ø–∞–¥–∞—é—â–∏–º–∏ –∫–ª—é—á–∞–º–∏ –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è
- –°—Ç—Ä–æ–∫–∏ –±–µ–∑ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π –≤–∫–ª—é—á–∞—é—Ç—Å—è —Å NULL –≤ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö –ø–æ–ª—è—Ö

### –≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–µ —Å–ª—É—á–∞–∏

#### –°–ª—É—á–∞–π 1: –í—Å–µ –∫–ª—é—á–∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã (–Ω–µ—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π)
- –¢–∞–±–ª–∏—Ü–∞ 1: 30 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∫–ª—é—á–µ–π
- –¢–∞–±–ª–∏—Ü–∞ 2: 20 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∫–ª—é—á–µ–π
- –ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ –∫–ª—é—á–µ–π: 0
- –†–µ–∑—É–ª—å—Ç–∞—Ç: 30 + 20 = 50 —Å—Ç—Ä–æ–∫

#### –°–ª—É—á–∞–π 2: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –∫–ª—é—á–µ–π
- –¢–∞–±–ª–∏—Ü–∞ 1: 30 —Å—Ç—Ä–æ–∫
- –¢–∞–±–ª–∏—Ü–∞ 2: 20 —Å—Ç—Ä–æ–∫
- –í—Å–µ 20 –∫–ª—é—á–µ–π –∏–∑ —Ç–∞–±–ª–∏—Ü—ã 2 –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ —Ç–∞–±–ª–∏—Ü–µ 1
- –ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ –∫–ª—é—á–µ–π: 20
- –†–µ–∑—É–ª—å—Ç–∞—Ç: 30 —Å—Ç—Ä–æ–∫ (20 —Å–æ–≤–ø–∞–≤—à–∏—Ö + 10 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∏–∑ —Ç–∞–±–ª–∏—Ü—ã 1)

#### –°–ª—É—á–∞–π 3: –ß–∞—Å—Ç–∏—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –∫–ª—é—á–µ–π
- –ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ –∫–ª—é—á–µ–π: k, –≥–¥–µ 0 ‚â§ k ‚â§ 20
- –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã 1: 30 - k
- –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã 2: 20 - k
- –†–µ–∑—É–ª—å—Ç–∞—Ç: k + (30 - k) + (20 - k) = 50 - k

### –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞

–ü—É—Å—Ç—å:
- n‚ÇÅ = 30 (—Å—Ç—Ä–æ–∫ –≤ –ø–µ—Ä–≤–æ–π —Ç–∞–±–ª–∏—Ü–µ)
- n‚ÇÇ = 20 (—Å—Ç—Ä–æ–∫ –≤–æ –≤—Ç–æ—Ä–æ–π —Ç–∞–±–ª–∏—Ü–µ)
- k = –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–≤–ø–∞–¥–∞—é—â–∏—Ö –∫–ª—é—á–µ–π (0 ‚â§ k ‚â§ min(n‚ÇÅ, n‚ÇÇ) = 20)

–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ:
$$\text{Result} = n_1 + n_2 - k = 50 - k$$

–ì–¥–µ k ‚àà [0, 20]

### –î–∏–∞–ø–∞–∑–æ–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

- **–ú–∏–Ω–∏–º—É–º**: –∫–æ–≥–¥–∞ k = 20 (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ)
  $$50 - 20 = 30 \text{ —Å—Ç—Ä–æ–∫}$$

- **–ú–∞–∫—Å–∏–º—É–º**: –∫–æ–≥–¥–∞ k = 0 (–Ω–µ—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π)
  $$50 - 0 = 50 \text{ —Å—Ç—Ä–æ–∫}$$

## üìä –û—Ç–≤–µ—Ç
**–º–∏–Ω–∏–º–∞–ª—å–Ω–æ 30 –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ 50 —Å—Ç—Ä–æ–∫**

## üí° –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–∏–∫–∏

1. **–ú–∏–Ω–∏–º—É–º (30 —Å—Ç—Ä–æ–∫)**: –∫–æ–≥–¥–∞ –≤—Å–µ 20 —Å—Ç—Ä–æ–∫ –∏–∑ –≤—Ç–æ—Ä–æ–π —Ç–∞–±–ª–∏—Ü—ã –Ω–∞—Ö–æ–¥—è—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –≤ –ø–µ—Ä–≤–æ–π
2. **–ú–∞–∫—Å–∏–º—É–º (50 —Å—Ç—Ä–æ–∫)**: –∫–æ–≥–¥–∞ –Ω–µ—Ç –Ω–∏ –æ–¥–Ω–æ–≥–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏
3. **–ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è**: –æ—Ç 31 –¥–æ 49 —Å—Ç—Ä–æ–∫ –ø—Ä–∏ —á–∞—Å—Ç–∏—á–Ω–æ–º —Å–æ–≤–ø–∞–¥–µ–Ω–∏–∏

## üîç –ü—Ä–∏–º–µ—Ä—ã

```sql
-- –ú–∏–Ω–∏–º—É–º (30 —Å—Ç—Ä–æ–∫)
-- –¢–∞–±–ª–∏—Ü–∞1: keys [1,2,3,...,30]
-- –¢–∞–±–ª–∏—Ü–∞2: keys [1,2,3,...,20]
-- –†–µ–∑—É–ª—å—Ç–∞—Ç: 30 —Å—Ç—Ä–æ–∫

-- –ú–∞–∫—Å–∏–º—É–º (50 —Å—Ç—Ä–æ–∫)  
-- –¢–∞–±–ª–∏—Ü–∞1: keys [1,2,3,...,30]
-- –¢–∞–±–ª–∏—Ü–∞2: keys [31,32,33,...,50]
-- –†–µ–∑—É–ª—å—Ç–∞—Ç: 50 —Å—Ç—Ä–æ–∫

-- –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π —Å–ª—É—á–∞–π (40 —Å—Ç—Ä–æ–∫)
-- –¢–∞–±–ª–∏—Ü–∞1: keys [1,2,3,...,30]
-- –¢–∞–±–ª–∏—Ü–∞2: keys [1,2,3,...,10,31,32,33,34,35]
-- –°–æ–≤–ø–∞–¥–µ–Ω–∏–π: 10
-- –†–µ–∑—É–ª—å—Ç–∞—Ç: 50 - 10 = 40 —Å—Ç—Ä–æ–∫
```
