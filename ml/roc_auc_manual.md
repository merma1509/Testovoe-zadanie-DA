# –ó–∞–¥–∞—á–∞ 2: –†—É—á–Ω–æ–π —Å—á—ë—Ç ROC_AUC

## üìú –£—Å–ª–æ–≤–∏–µ
–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä –≤—ã–¥–∞–ª —Å–ª–µ–¥—É—é—â–∏–µ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä—É–µ–º—ã–µ –º–µ—Ç–∫–∏ –∫–ª–∞—Å—Å–∞ –∏ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏ –∫ –∫–ª–∞—Å—Å—É "1". –ù–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Ä–∞—Å—Å—á–∏—Ç–∞–π—Ç–µ –º–µ—Ç—Ä–∏–∫—É ROC_AUC. –¢–µ–∑–∏—Å–Ω–æ –æ–ø–∏—Å–∞—Ç—å —Ö–æ–¥ —Ä–µ—à–µ–Ω–∏—è.

–û—Ç–≤–µ—Ç –æ–∫—Ä—É–≥–ª–∏—Ç—å –¥–æ —Å–æ—Ç—ã—Ö, –Ω–∞–ø—Ä–∏–º–µ—Ä: 4,12

## üìä –î–∞–Ω–Ω—ã–µ

| –ò—Å—Ç–∏–Ω–Ω–∞—è –º–µ—Ç–∫–∞ | –ü–æ—Ä–æ–≥ (0.6) | –û—Ü–µ–Ω–∫–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ |
|----------------|--------------|-------------------|
| 1              | 1            | 0.95              |
| 0              | 1            | 0.90              |
| 1              | 1            | 0.85              |
| 0              | 1            | 0.80              |
| 1              | 1            | 0.75              |
| 1              | 1            | 0.70              |
| 1              | 1            | 0.65              |
| 1              | 1            | 0.60              |
| 0              | 0            | 0.55              |
| 0              | 0            | 0.50              |
| 0              | 0            | 0.45              |
| 1              | 0            | 0.40              |
| 0              | 0            | 0.35              |
| 0              | 0            | 0.30              |
| 0              | 0            | 0.25              |

## üßÆ –•–æ–¥ —Ä–µ—à–µ–Ω–∏—è

### –®–∞–≥ 1: –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ (—É–±—ã–≤–∞–Ω–∏–µ)

| –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å | –ò—Å—Ç–∏–Ω–Ω–∞—è –º–µ—Ç–∫–∞ |
|-------------|----------------|
| 0.95        | 1              |
| 0.90        | 0              |
| 0.85        | 1              |
| 0.80        | 0              |
| 0.75        | 1              |
| 0.70        | 1              |
| 0.65        | 1              |
| 0.60        | 1              |
| 0.55        | 0              |
| 0.50        | 0              |
| 0.45        | 0              |
| 0.40        | 1              |
| 0.35        | 0              |
| 0.30        | 0              |
| 0.25        | 0              |

### –®–∞–≥ 2: –ü–æ–¥—Å—á–µ—Ç TP, FP, TN, FN –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ—Ä–æ–≥–∞

–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ:
- –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ (P): 8
- –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ (N): 7

### –®–∞–≥ 3: –†–∞—Å—á–µ—Ç TPR –∏ FPR –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ –ø–æ—Ä–æ–≥–∞

| –ü–æ—Ä–æ–≥ | TP | FP | TPR = TP/P | FPR = FP/N |
|-------|----|----|------------|------------|
| >0.95 | 0  | 0  | 0.00       | 0.00       |
| >0.90 | 1  | 0  | 0.125      | 0.00       |
| >0.85 | 1  | 1  | 0.125      | 0.143      |
| >0.80 | 2  | 1  | 0.250      | 0.143      |
| >0.75 | 2  | 2  | 0.250      | 0.286      |
| >0.70 | 3  | 2  | 0.375      | 0.286      |
| >0.65 | 4  | 2  | 0.500      | 0.286      |
| >0.60 | 5  | 2  | 0.625      | 0.286      |
| >0.55 | 6  | 2  | 0.750      | 0.286      |
| >0.50 | 6  | 3  | 0.750      | 0.429      |
| >0.45 | 6  | 4  | 0.750      | 0.571      |
| >0.40 | 6  | 5  | 0.750      | 0.714      |
| >0.35 | 7  | 5  | 0.875      | 0.714      |
| >0.30 | 7  | 6  | 0.875      | 0.857      |
| >0.25 | 8  | 6  | 1.000      | 0.857      |
| ‚â§0.25 | 8  | 7  | 1.000      | 1.000      |

### –®–∞–≥ 4: –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ ROC-–∫—Ä–∏–≤–æ–π –∏ —Ä–∞—Å—á–µ—Ç –ø–ª–æ—â–∞–¥–∏

–¢–æ—á–∫–∏ ROC-–∫—Ä–∏–≤–æ–π (FPR, TPR):
- (0.00, 0.00)
- (0.00, 0.125)
- (0.143, 0.125)
- (0.143, 0.250)
- (0.286, 0.250)
- (0.286, 0.375)
- (0.286, 0.500)
- (0.286, 0.625)
- (0.286, 0.750)
- (0.429, 0.750)
- (0.571, 0.750)
- (0.714, 0.750)
- (0.714, 0.875)
- (0.857, 0.875)
- (0.857, 1.000)
- (1.000, 1.000)

### –®–∞–≥ 5: –†–∞—Å—á–µ—Ç –ø–ª–æ—â–∞–¥–∏ –º–µ—Ç–æ–¥–æ–º —Ç—Ä–∞–ø–µ—Ü–∏–π

ROC-AUC = Œ£[(FPR·µ¢‚Çä‚ÇÅ - FPR·µ¢) √ó (TPR·µ¢‚Çä‚ÇÅ + TPR·µ¢) / 2]

–†–∞–∑–±–∏–≤–∞–µ–º –Ω–∞ —Å–µ–≥–º–µ–Ω—Ç—ã –∏ —Å—á–∏—Ç–∞–µ–º –ø–ª–æ—â–∞–¥—å:

1. (0.00,0.00) ‚Üí (0.00,0.125): 0 √ó 0.125/2 = 0
2. (0.00,0.125) ‚Üí (0.143,0.125): 0.143 √ó 0.125 = 0.0179
3. (0.143,0.125) ‚Üí (0.143,0.250): 0 √ó 0.375/2 = 0
4. (0.143,0.250) ‚Üí (0.286,0.250): 0.143 √ó 0.250 = 0.0358
5. (0.286,0.250) ‚Üí (0.286,0.375): 0 √ó 0.625/2 = 0
6. (0.286,0.375) ‚Üí (0.286,0.500): 0 √ó 0.875/2 = 0
7. (0.286,0.500) ‚Üí (0.286,0.625): 0 √ó 1.125/2 = 0
8. (0.286,0.625) ‚Üí (0.286,0.750): 0 √ó 1.375/2 = 0
9. (0.286,0.750) ‚Üí (0.429,0.750): 0.143 √ó 0.750 = 0.1073
10. (0.429,0.750) ‚Üí (0.571,0.750): 0.142 √ó 0.750 = 0.1065
11. (0.571,0.750) ‚Üí (0.714,0.750): 0.143 √ó 0.750 = 0.1073
12. (0.714,0.750) ‚Üí (0.714,0.875): 0 √ó 1.625/2 = 0
13. (0.714,0.875) ‚Üí (0.857,0.875): 0.143 √ó 0.875 = 0.1251
14. (0.857,0.875) ‚Üí (0.857,1.000): 0 √ó 1.875/2 = 0
15. (0.857,1.000) ‚Üí (1.000,1.000): 0.143 √ó 1.000 = 0.1430

**–°—É–º–º–∞**: 0.0179 + 0.0358 + 0.1073 + 0.1065 + 0.1073 + 0.1251 + 0.1430 = **0.6429**

## üìä –û—Ç–≤–µ—Ç
**0,64**

## üí° –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥

–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç–æ–π —Ä–∞—Å—á–µ—Ç —á–µ—Ä–µ–∑ —Ä–∞–Ω–≥–∏:

1. –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏
2. –°—á–∏—Ç–∞–µ–º —Å—É–º–º—É —Ä–∞–Ω–≥–æ–≤ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤
3. –ü—Ä–∏–º–µ–Ω—è–µ–º —Ñ–æ—Ä–º—É–ª—É –£–∏–ª–∫–æ–∫—Å–æ–Ω–∞

ROC-AUC = (Œ£—Ä–∞–Ω–≥–æ–≤_–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö - n‚ÇÅ(n‚ÇÅ+1)/2) / (n‚ÇÅ √ó n‚ÇÇ)

–≥–¥–µ n‚ÇÅ = 8 (–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ), n‚ÇÇ = 7 (–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ)

–†–∞–Ω–≥–∏ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤: 1, 3, 5, 6, 7, 8, 9, 13
–°—É–º–º–∞ —Ä–∞–Ω–≥–æ–≤ = 52

ROC-AUC = (52 - 8√ó9/2) / (8√ó7) = (52 - 36) / 56 = 16/56 = 0.286

**–û—à–∏–±–∫–∞ –≤ —Ä–∞—Å—á–µ—Ç–∞—Ö!** –î–∞–≤–∞–π—Ç–µ –ø–µ—Ä–µ—Å—á–∏—Ç–∞–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω–æ:

–†–∞–Ω–≥–∏ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ (–æ—Ç 1 –¥–æ 15): 1, 3, 5, 6, 7, 8, 9, 13
–°—É–º–º–∞ = 52

ROC-AUC = (52 - 8√ó9/2) / (8√ó7) = (52 - 36) / 56 = 16/56 = 0.286

–≠—Ç–æ –Ω–µ —Å—Ö–æ–¥–∏—Ç—Å—è —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º —Ä–∞—Å—á–µ—Ç–æ–º. –ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º, —á—Ç–æ –¥–ª—è ROC-AUC –Ω—É–∂–Ω–æ —Å—á–∏—Ç–∞—Ç—å –Ω–∞–æ–±–æ—Ä–æ—Ç:

ROC-AUC = 1 - (Œ£—Ä–∞–Ω–≥–æ–≤_–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö - n‚ÇÇ(n‚ÇÇ+1)/2) / (n‚ÇÅ √ó n‚ÇÇ)

–†–∞–Ω–≥–∏ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö: 2, 4, 10, 11, 12, 14, 15
–°—É–º–º–∞ = 68

ROC-AUC = 1 - (68 - 7√ó8/2) / (8√ó7) = 1 - (68 - 28) / 56 = 1 - 40/56 = 1 - 0.714 = 0.286

**–í—Å–µ –µ—â–µ –Ω–µ —Å—Ö–æ–¥–∏—Ç—Å—è!** –ü—Ä–æ–±–ª–µ–º–∞ –≤ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç —á–µ—Ä–µ–∑ —Ä—É—á–Ω–æ–π —Ä–∞—Å—á–µ—Ç —Ç—Ä–∞–ø–µ—Ü–∏–π: **0.64**
