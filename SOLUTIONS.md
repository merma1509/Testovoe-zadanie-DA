# Полные решения тестового задания

## Все ответы в одном месте

### Блок 1: Теория вероятности и логика

#### Задача 1: Фермер

- Ответ: **3,99**
- Метод: линейность математического ожидания через индикаторные переменные

#### Задача 2: Кулинарное соревнование

- Ответ: **20,0**
- Метод: вероятность выигрыша в паре = 0.5, два этапа → 0.25 × 80 = 20

#### Задача 3: Одинокая дорога

- Ответ: **63,2; 93,3**
- Метод: пуассоновский процесс, экспоненциальное распределение

---

### Блок 2: Python

#### Задача 1: Изоморфизмы

- Решение: два словаря для双向 соответствия символов
- Сложность: O(n) время, O(n) память

#### Задача 2: Натуральная последовательность

- Решение: арифметическая формула суммы
- Сложность: O(n) время, O(1) память

#### Задача 3: Факторизация

- Решение: пробное деление до √n
- Сложность: O(√n) время, O(log n) память

---

### Блок 3: SQL

#### Задача 1: Абитуриенты

```sql
SELECT id, scores, RANK() OVER (ORDER BY scores DESC) AS position
FROM examination;
```

#### Задача 2: FULL JOIN

- Ответ: **минимально 30 и максимально 50 строк**

#### Задача 3: Покупки

```sql
SELECT DISTINCT a.client_id
FROM account a
JOIN transaction t ON a.id = t.account_id
WHERE t.transaction_date >= DATE_SUB(CURRENT_DATE, INTERVAL 1 MONTH)
  AND t.type = 'PUR'
GROUP BY a.client_id
HAVING SUM(t.amount) < 5000;
```

---

### Блок 4: Статистика и АБ-тесты

#### Задача 1: Воодушевленное руководство

- Ответ: **2, 3, 4** (верные утверждения)
- Логика: тест репрезентативен только для похожих городов

#### Задача 2: Основной показатель в статистике

- Ответ: **Вариант 2** - вероятность наблюдения такого результата при условии верности нулевой гипотезы

#### Задача 3: Параметрический тест

- Ответ: **Да, можно применять t-критерий**
- Обоснование: ЦПТ работает при n > 5 млн

---

### Блок 5: ML Base

#### Задача 1: Пони тоже кони

- Ответ: **Возьму вторую модель (ROC-AUC=0.1), инвертирую предсказания, получу ROC-AUC=0.9**

#### Задача 2: Ручной счёт ROC_AUC

- Ответ: **0,64**
- Метод: построение ROC-кривой, расчет площади трапециями

#### Задача 3: Ручной счёт корреляции

- Ответ: **-0,84**
- Вывод: сильная отрицательная корреляция, но причинность не доказана

---

## Ключевые моменты для собеседования

### Теория вероятностей

- Линейность математического ожидания
- Независимость событий
- Пуассоновские процессы

### Python алгоритмы

- Оптимальность по времени и памяти
- Хеш-таблицы для быстрых операций
- Математические формулы для оптимизации

### SQL

- Оконные функции для ранжирования
- JOIN + GROUP BY + HAVING без подзапросов
- Понимание типов соединений

### Статистика

- p-value и статистическая значимость
- Центральная предельная теорема
- Репрезентативность выборок

### Machine Learning

- ROC-AUC и его интерпретация
- Инвертирование "плохих" моделей
- Корреляция ≠ причинность

---

## Структура проекта

```bash
test-assignment/
├── README.md                 # Общее описание
├── SOLUTIONS.md              # Этот файл - все ответы
├── probability/              # Блок 1 с подробными решениями
├── python/                  # Блок 2 с кодом и анализом
├── sql/                     # Блок 3 с запросами
├── statistics/               # Блок 4 с теорией
└── ml/                      # Блок 5 с ML-анализом
```

## Готовность к собеседованию

Все решения включают:

- Подробные математические выкладки
- Оптимальные алгоритмы с анализом сложности
- Объяснение статистических концепций
- Практические примеры кода
- Интерпретацию результатов
